webpackJsonp([1],{"7NGR":function(e,t){},"7bEs":function(e,t){},"9+Fr":function(e,t){},BICN:function(e,t){},DxTA:function(e,t){},Ev0I:function(e,t){},MwIN:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),n=s("2bvH"),i=s("zL8q"),l=s.n(i),r=(s("tvR6"),s("woOf")),o=s.n(r),u=s("mvHQ"),c=s.n(u),m="http://106.13.207.98:8080/jurisdiction",d={name:"Home",data:function(){return{labelPosition:"top",formLabelAlign:{userName:"",userPassword:""}}},methods:{submitForm:function(){var e=this;if(""==this.formLabelAlign.username)this.$alert("手机号/邮箱不能空着哦！","注意！",{confirmButtonText:"确定"});else if(""==this.formLabelAlign.password)this.$alert("密码不能空着哦！","注意！",{confirmButtonText:"确定"});else{var t=this.$qs.stringify({userTelphone:this.formLabelAlign.userName,userEmail:this.formLabelAlign.userName,userPassword:this.formLabelAlign.userPassword});this.$axios.post(m+"/user/login",t).then(function(t){var s=t.data;200==s.status?(e.$store.dispatch("login",s.data.userId),e.$router.push({name:"index"})):404==s.status?e.$confirm("首次登录需要验证邮箱, 是否继续?","首次登录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$prompt("请输入邮箱","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"邮箱格式不正确"}).then(function(t){e.$axios.get(m+"/user/logincode",{params:{userEmail:t.value}}).then(function(a){200==a.data.status?(e.$message({type:"success",message:"验证码已发送至邮箱："+t.value}),e.$prompt("请输入验证码（如果未收到，请查看垃圾邮箱）","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(n){n.value==a.data.data?(e.$store.dispatch("login",s.data.userId),e.$router.push({name:"index"}),e.$axios.get(m+"/user/firstlogin",{params:{userId:s.data.userId,userEmail:t.value}}),e.$message({type:"success",message:"登陆成功"})):e.$message({type:"error",message:"验证码错误"})}).catch(function(){e.$message({type:"info",message:"取消输入"})})):e.$message({type:"info",message:"发送失败"})})}).catch(function(){e.$message({type:"info",message:"取消登录"})})}).catch(function(){e.$message({type:"info",message:"取消登录"})}):e.$message({type:"error",message:"手机号/邮箱或密码错误"})}).catch(function(){this.$message({type:"error",message:"登录异常"})})}}}},f={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"home"}},[s("div",{attrs:{id:"login"}},[s("el-form",{staticClass:"login_form",attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.formLabelAlign}},[s("el-form-item",{attrs:{label:""}},[s("p",{staticStyle:{"font-size":"20px","margin-bottom":"20px"}},[e._v("手机号/邮箱")]),e._v(" "),s("el-input",{staticStyle:{width:"300px","font-size":"14px"},model:{value:e.formLabelAlign.userName,callback:function(t){e.$set(e.formLabelAlign,"userName",t)},expression:"formLabelAlign.userName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:""}},[s("p",{staticStyle:{"font-size":"20px","margin-bottom":"20px"}},[e._v("密码")]),e._v(" "),s("el-input",{staticStyle:{width:"300px","font-size":"14px"},attrs:{"show-password":""},model:{value:e.formLabelAlign.userPassword,callback:function(t){e.$set(e.formLabelAlign,"userPassword",t)},expression:"formLabelAlign.userPassword"}})],1)],1),e._v(" "),s("el-button",{staticClass:"login_btn",attrs:{type:"success",round:""},on:{click:function(t){return e.submitForm()}}},[e._v("登录")])],1)])},staticRenderFns:[]};var h=s("VU/8")(d,f,!1,function(e){s("9+Fr")},null,null).exports,p={name:"App",components:{Home:h},created:function(){var e=this;window.addEventListener("beforeunload",function(){localStorage.setItem("userId",c()(e.$store.state))}),localStorage.getItem("userId")&&this.$store.replaceState(o()(this.$store.state,JSON.parse(localStorage.getItem("userId"))))},mounted:function(){document.documentElement.className="production"}},g={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var b=s("VU/8")(p,g,!1,function(e){s("Y0m+")},null,null).exports,v=s("/ocq"),_="http://106.13.207.98:8080/jurisdiction",x={name:"caidan",data:function(){return{caianList:[],ruleslist:[],userId:"",index:0}},mounted:function(){this.init()},props:["message"],methods:{init:function(){var e=this;this.userId=this.$store.state.loginUserId,this.$axios.get(_+"/user/menu",{params:{userId:this.userId}}).then(function(t){console.log("caidan",t),200==t.data.status&&(e.caianList=t.data.data)}).catch(function(t){e.$message("查询菜单异常")}),this.$axios.get(_+"/user/rules",{params:{userId:this.userId}}).then(function(t){200==t.data.status&&(e.ruleslist=t.data.data)}).catch(function(t){e.$message("查询权限异常")})},sendRulesId:function(e){this.$emit("childByValue",e)}}},$={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"menu_list"}},[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},e._l(e.caianList,function(t,a){return s("el-submenu",{key:a,attrs:{index:t.MENU_ID}},[s("template",{slot:"title"},[s("span",{staticStyle:{"font-size":"16px"}},[e._v(e._s(t.MENU_NAME))])]),e._v(" "),s("el-menu-item-group",e._l(e.ruleslist,function(a,n){return a.MENU_ID==t.MENU_ID?s("el-menu-item",{key:n,staticStyle:{"font-size":"15px"},on:{click:function(t){return e.sendRulesId(a.RULES_URL)}}},[e._v("\n                    "+e._s(a.RULES_NAME)+"\n                ")]):e._e()}),1)],2)}),1)],1)},staticRenderFns:[]};var I=s("VU/8")(x,$,!1,function(e){s("BICN")},null,null).exports,y={name:"pagehead",props:{msg:String},methods:{removeSession:function(){window.localStorage.removeItem("userId")}}},k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"pagehead"}},[t("div",{staticClass:"pagehead-bg"},[t("a",{staticClass:"login_out",attrs:{href:"/"},on:{click:this.removeSession}},[this._v("\n      注销\n      "),t("i",{staticClass:"el-icon-s-release"})])])])},staticRenderFns:[]};var w=s("VU/8")(y,k,!1,function(e){s("Ev0I")},null,null).exports,R={name:"about",data:function(){return{title:"/about"}},props:{url:String}},E={render:function(){var e=this.$createElement,t=this._self._c||e;return this.url==this.title?t("div",{attrs:{id:"about"}},[this._m(0),this._v(" "),t("div")]):this._e()},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("了解项目")])])}]};var N=s("VU/8")(R,E,!1,function(e){s("x+cm")},null,null).exports,L={name:"intro",props:{url:String},data:function(){return{title:"/intro"}}},C={render:function(){var e=this.$createElement,t=this._self._c||e;return this.url==this.title?t("div",{attrs:{id:"intro"}},[this._m(0)]):this._e()},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("项目简介")])])}]};var U=s("VU/8")(L,C,!1,function(e){s("U++2")},null,null).exports,M="http://106.13.207.98:8080/jurisdiction",T={name:"personal",data:function(){return{title:"/personal",userId:"",roles:"",userMsg:{}}},props:{url:String},mounted:function(){this.init()},methods:{init:function(){var e=this;this.userId=this.$store.state.loginUserId,this.$axios.get(M+"/user/findById",{params:{userId:this.userId}}).then(function(t){200==t.data.status?e.userMsg=t.data.data:e.$message("查询个人信息失败")}).catch(function(t){e.$message("查询个人信息异常")}),this.$axios.get(M+"/user/role",{params:{userId:this.userId}}).then(function(t){200==t.data.status?e.roles=t.data.data:e.$message("查询角色失败")}).catch(function(t){e.$message("查询角色异常")})}}},V={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.url==e.title?s("div",{attrs:{id:"personal"}},[s("el-image",{staticClass:"img",attrs:{src:"http://106.13.207.98:8080/jurisdiction/img/"+e.userMsg.userHeadimg}}),e._v(" "),s("div",{staticClass:"mess1"},[s("p",{staticClass:"name"},[s("b",[e._v(e._s(e.userMsg.userName))])])]),e._v(" "),s("div",{staticClass:"mess1"},e._l(e.roles,function(t){return s("p",{staticClass:"user_role"},[s("b",[e._v(e._s(t.rulesname))])])}),0),e._v(" "),s("div",{staticClass:"mess1"},[s("p",{staticClass:"phone"},[s("b",[e._v(e._s(e.userMsg.userTelphone))])])]),e._v(" "),s("div",{staticClass:"mess1"},[s("p",{staticClass:"email"},[s("b",[e._v(e._s(e.userMsg.userEmail))])])])],1):e._e()},staticRenderFns:[]};var F=s("VU/8")(T,V,!1,function(e){s("DxTA")},null,null).exports,S="http://106.13.207.98:8080/jurisdiction",B={name:"update",data:function(){return{title:"/update",labelPosition:"right",formLabelAlign:{name:"",region:"",type:""},userId:"",userMsg:{}}},props:{url:String},mounted:function(){this.init()},methods:{init:function(){var e=this;this.userId=this.$store.state.loginUserId,this.$axios.get(S+"/user/findById",{params:{userId:this.userId}}).then(function(t){200==t.data.status?e.userMsg=t.data.data:e.$message("查询个人信息失败")}).catch(function(t){e.$message("查询个人信息异常")})},email_btn:function(){var e=this;""==this.userMsg.userEmail||null==this.userMsg.userEmail?this.$prompt("请输入要绑定的邮箱","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"邮箱格式不正确"}).then(function(t){e.$axios.get(S+"/user/updateemail",{params:{userId:e.userId,userEmail:t.value}}).then(function(t){200==t.data.status?(e.init(),e.$message({type:"success",message:"修改成功"})):e.$message({type:"error",message:t.data.message})})}).catch(function(){e.$message({type:"info",message:"已取消修改"})}):this.$confirm("需要验证邮箱, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.get(S+"/user/logincode",{params:{userEmail:e.userMsg.userEmail}}).then(function(t){200==t.data.status?e.$prompt("请输入验证码","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(s){s.value==t.data.data?e.$prompt("请输入要绑定的邮箱","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"邮箱格式不正确"}).then(function(t){e.$axios.get(S+"/user/updateemail",{params:{userId:e.userId,userEmail:t.value}}).then(function(t){200==t.data.status?(e.$message({type:"success",message:"修改成功"}),e.init()):e.$message({type:"error",message:t.data.message})})}).catch(function(){e.$message({type:"info",message:"已取消修改"})}):e.$message({type:"error",message:"验证码输入有误"})}).catch(function(){e.$message({type:"info",message:"取消输入"})}):e.$message({type:"info",message:"验证失败"})})}).catch(function(){e.$message({type:"info",message:"已取消修改"})})},delemail_btn:function(){var e=this;this.$confirm("需要验证邮箱, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.get(S+"/user/logincode",{params:{userEmail:e.userMsg.userEmail}}).then(function(t){200==t.data.status?e.$prompt("请输入验证码","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(s){s.value==t.data.data?e.$axios.get(S+"/user/delemail",{params:{userId:e.userId}}).then(function(t){200==t.data.status?(e.init(),e.$message({type:"success",message:"解绑成功"})):e.$message({type:"info",message:t.data.message})}).catch(function(t){e.$message({type:"error",message:t.data.message})}):e.$message({type:"error",message:"验证码输入有误"})}).catch(function(){e.$message({type:"info",message:"取消解绑"})}):e.$message({type:"info",message:"验证失败"})})}).catch(function(){e.$message({type:"info",message:"已取消解绑"})})},uploadHttp:function(e){var t=this,s=new FormData;s.append("userHeadimg",e.file),this.$axios.post(S+"/file/upload",s).then(function(e){if(200==e.data.status){t.$message({type:"seccess",message:"上传成功，正在更换..."});var s=e.data.data,a=t.$qs.stringify({userId:t.userId,userHeadimg:s});t.$axios.post(S+"/user/upHeadimg",a).then(function(e){200==e.data.status&&(t.$message({type:"success",message:"更换成功!"}),t.init())}).catch(function(e){t.$message({type:"error",message:e.data.message})})}else t.$message({type:"info",message:"上传失败！"})}).catch(function(e){t.$alert("上传异常","消息",{confirmButtonText:"确定"})})},updatename:function(){var e=this;this.$axios.get(S+"/user/changename",{params:{userId:this.userId,userName:this.userMsg.userName}}).then(function(t){200==t.data.status?e.$message({type:"success",message:"修改成功！"}):e.$message({type:"info",message:"修改失败！"})}).catch(function(t){e.$message({type:"error",message:"修改异常！"})})}}},O={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.url==e.title?s("div",{attrs:{id:"update"}},[s("el-upload",{attrs:{action:"",multiple:"",limit:1,"show-file-list":!1,"http-request":e.uploadHttp,accept:"image/jpeg, image/gif, image/png"}},[s("el-image",{staticClass:"up_img",attrs:{src:"http://106.13.207.98:8080/jurisdiction/img/"+e.userMsg.userHeadimg}})],1),e._v(" "),s("el-form",{staticClass:"up_form",attrs:{"label-position":e.labelPosition,"label-width":"80px",size:"medium"}},[s("el-form-item",{staticClass:"item",attrs:{label:"姓名"}},[s("el-input",{staticClass:"input",model:{value:e.userMsg.userName,callback:function(t){e.$set(e.userMsg,"userName",t)},expression:"userMsg.userName"}})],1),e._v(" "),s("el-form-item",{staticClass:"item",attrs:{label:"手机号"}},[s("div",{staticClass:"up_p"},[s("div",{staticStyle:{"margin-right":"0",float:"left"}},[s("b",[e._v(e._s(e.userMsg.userTelphone))])]),e._v(" "),s("div",{staticStyle:{"margin-right":"0",float:"right"}},[s("el-button",{attrs:{type:"text"}},[e._v("修改手机")]),e._v(" "),s("el-button",{attrs:{type:"text"}},[e._v("解除绑定")])],1)])]),e._v(" "),s("el-form-item",{staticClass:"item",attrs:{label:"邮箱地址"}},[s("div",{staticClass:"up_p"},[s("div",{staticStyle:{"margin-right":"0",float:"left"}},[s("b",[e._v(e._s(e.userMsg.userEmail))])]),e._v(" "),s("div",{staticStyle:{"margin-right":"0",float:"right"}},[s("el-button",{attrs:{type:"text"},on:{click:function(t){return e.email_btn()}}},[e._v("修改邮箱")]),e._v(" "),s("el-button",{attrs:{type:"text"},on:{click:function(t){return e.delemail_btn()}}},[e._v("解除绑定")])],1)])])],1),e._v(" "),s("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"medium"},on:{click:function(t){return e.updatename()}}},[e._v("保存")])],1):e._e()},staticRenderFns:[]};var A=s("VU/8")(B,O,!1,function(e){s("7NGR")},null,null).exports,z="http://106.13.207.98:8080/jurisdiction",D={name:"personnel",data:function(){return{title:"/personnel",dialogFormVisible:!1,dialogFormVisible2:!1,dialogVisible:!1,tableData:[],user:{},roleOptions:[],checkboxRoles:[],form:{userName:"",userPassword:"",userTelphone:"",userEmail:""},form2:{userId:"",userName:"",userTelphone:"",userEmail:""},formLabelWidth:"120px"}},props:{url:String},mounted:function(){this.init()},methods:{init:function(){var e=this;this.$axios.get(z+"/user/findall").then(function(t){if(200==t.data.status){for(var s=0;s<t.data.data.length;s++){var a=new Date(t.data.data[s].userTime);t.data.data[s].userTime=a.toLocaleString()}e.tableData=t.data.data}})},handleClose:function(){this.roleOptions=[],this.checkboxRoles=[],this.form={userName:"",userPassword:"",userTelphone:"",userEmail:""},this.dialogFormVisible=!1,this.dialogVisible=!1},handleClose2:function(){this.form2={userId:"",userName:"",userTelphone:"",userEmail:""},this.dialogFormVisible2=!1},submit_updateuser_close:function(){this.handleClose2()},submit_roleclose:function(){this.handleClose()},submit_insertuser_close:function(){this.handleClose()},handleClick:function(e){var t=this;this.user=e,console.log(e),this.$axios.get(z+"/role/findall").then(function(e){200==e.data.status&&(t.roleOptions=e.data.data)}).catch(function(e){}),this.$axios.get(z+"/role/find",{params:{userId:e.userId}}).then(function(e){for(var s=[],a=0;a<e.data.data.length;a++)s.push(e.data.data[a].roleId);t.checkboxRoles=s}),this.dialogVisible=!0},adduser:function(){var e=this;this.$axios.get(z+"/role/findall").then(function(t){200==t.data.status&&(e.roleOptions=t.data.data,e.dialogFormVisible=!0)}).catch(function(e){})},submit_role:function(){var e=this;console.log(this.user.userId),this.$axios.get(z+"/role/delall",{params:{userId:this.user.userId}}).then(function(t){if(200==t.data.status)for(var s=0;s<e.checkboxRoles.length;s++)e.$axios.get(z+"/role/add",{params:{userRoleUserId:e.user.userId,userRoleRoleId:e.checkboxRoles[s]}}).then(function(t){200==t.data.status&&(e.dialogVisible=!1)});else e.$message("修改失败")})},submit_insertuser:function(){var e=this,t=this.$qs.stringify(this.form);this.$axios.post(z+"/user/add",t).then(function(t){200==t.data.status?e.$axios.get(z+"/role/delall",{params:{userId:t.data.data.userId}}).then(function(s){if(200==s.data.status)for(var a=0;a<e.checkboxRoles.length;a++)e.$axios.get(z+"/role/add",{params:{userRoleUserId:t.data.data.userId,userRoleRoleId:e.checkboxRoles[a]}}).then(function(t){200==t.data.status&&(e.dialogFormVisible=!1,e.init())});else e.$message("添加失败")}):e.$message(t.data.message)})},submit_updateuser:function(){var e=this;this.$axios.get(z+"/user/update",{params:{userName:this.form2.userName,userTelphone:this.form2.userTelphone,userEmail:this.form2.userEmail,userId:this.form2.userId}}).then(function(t){200==t.data.status?(e.init(),e.handleClose2(),e.$message({type:"success",message:"修改成功!"})):e.$message("修改失败")}).catch(function(t){e.$message("修改失败")})},updateuser:function(e){this.form2={userId:e.userId,userName:e.userName,userTelphone:e.userTelphone,userEmail:e.userEmail},this.dialogFormVisible2=!0},deleteuser:function(e){var t=this;this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.get(z+"/user/delete",{params:{userId:e.userId}}).then(function(e){200==e.data.status?(t.init(),t.$message({type:"success",message:"删除成功!"})):t.$message({type:"info",message:"删除失败!"})}).catch(function(e){t.$message({type:"success",message:"删除异常!"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}},W={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.url==e.title?s("div",{attrs:{id:"personnel"}},[s("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.adduser()}}},[e._v("添加用户")]),e._v(" "),s("el-table",{staticStyle:{"margin-top":"10px",width:"100%",height:"869px"},attrs:{size:"medium",data:e.tableData}},[s("el-table-column",{attrs:{fixed:"left",type:"index",label:"序号",width:"50"}}),e._v(" "),s("el-table-column",{attrs:{fixed:"left",prop:"userName",label:"姓名",width:"200"}}),e._v(" "),s("el-table-column",{attrs:{prop:"userTelphone",label:"手机号",width:"200"}}),e._v(" "),s("el-table-column",{attrs:{prop:"userEmail",label:"邮箱",width:"250"}}),e._v(" "),s("el-table-column",{attrs:{prop:"userTime",label:"注册时间",width:"300"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(s){return e.handleClick(t.row)}}},[e._v("查看角色")]),e._v(" "),s("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(s){return e.updateuser(t.row)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(s){return e.deleteuser(t.row)}}},[e._v("删除")])]}}],null,!1,2170080126)})],1),e._v(" "),s("el-dialog",{attrs:{"before-close":e.handleClose,"destroy-on-close":"",title:"查看角色",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("el-checkbox-group",{attrs:{min:1,max:e.roleOptions.length},model:{value:e.checkboxRoles,callback:function(t){e.checkboxRoles=t},expression:"checkboxRoles"}},e._l(e.roleOptions,function(t){return s("el-checkbox",{key:t.ROLE_ID,attrs:{label:t.ROLE_ID}},[e._v(e._s(t.ROLE_NAME)+"\n              ")])}),1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){return e.submit_roleclose()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit_role()}}},[e._v("确 定")])],1)],1),e._v(" "),s("el-dialog",{attrs:{"before-close":e.handleClose,title:"添加用户",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-form",{attrs:{model:e.form}},[s("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.userPassword,callback:function(t){e.$set(e.form,"userPassword",t)},expression:"form.userPassword"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.userTelphone,callback:function(t){e.$set(e.form,"userTelphone",t)},expression:"form.userTelphone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"电子邮箱","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.userEmail,callback:function(t){e.$set(e.form,"userEmail",t)},expression:"form.userEmail"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"项目角色","label-width":e.formLabelWidth}},[s("el-checkbox-group",{attrs:{min:1,max:e.roleOptions.length},model:{value:e.checkboxRoles,callback:function(t){e.checkboxRoles=t},expression:"checkboxRoles"}},e._l(e.roleOptions,function(t){return s("el-checkbox",{key:t.ROLE_ID,attrs:{label:t.ROLE_ID}},[e._v(e._s(t.ROLE_NAME)+"\n                      ")])}),1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){return e.submit_insertuser_close()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit_insertuser()}}},[e._v("确 定")])],1)],1),e._v(" "),s("el-dialog",{attrs:{"before-close":e.handleClose2,title:"修改资料",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[s("el-form",{attrs:{model:e.form2}},[s("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form2.userName,callback:function(t){e.$set(e.form2,"userName",t)},expression:"form2.userName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form2.userTelphone,callback:function(t){e.$set(e.form2,"userTelphone",t)},expression:"form2.userTelphone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"电子邮箱","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form2.userEmail,callback:function(t){e.$set(e.form2,"userEmail",t)},expression:"form2.userEmail"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){return e.submit_updateuser_close()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit_updateuser()}}},[e._v("确 定")])],1)],1)],1):e._e()},staticRenderFns:[]};var P=s("VU/8")(D,W,!1,function(e){s("zIFW")},null,null).exports,H="http://106.13.207.98:8080/jurisdiction",j={name:"role",data:function(){return{title:"/role",dialogFormVisible:!1,formLabelWidth:"120px",activeName:"",rolelist:[],rulesOptions:[],checkboxRules:[],roleId:"",role:{roleName:""},rulesOptions2:[],checkboxRules2:[],loading:!1}},props:{url:String},mounted:function(){this.init()},methods:{init:function(){var e=this;this.$axios.get(H+"/role/findall").then(function(t){200==t.data.status&&(e.rolelist=t.data.data,e.activeName=t.data.data[0].ROLE_ID,e.$axios.get(H+"/rules/findall").then(function(s){200==s.data.status&&(e.rulesOptions=s.data.data,e.$axios.get(H+"/rules/select",{params:{roleId:t.data.data[0].ROLE_ID}}).then(function(t){for(var s=[],a=0;a<t.data.data.length;a++)s.push(t.data.data[a].rulesId);e.checkboxRules=s,console.log(s)}).catch(function(t){e.$message(t.data.message)}))}).catch(function(t){e.$message(t.data.message)}))}).catch(function(t){e.$message(t.data.message)})},openFullScreen:function(){var e=this,t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout(function(){e.init(),t.close()},1e3)},handleClick:function(e,t){var s=this;this.roleId=e.name,this.$axios.get(H+"/rules/select",{params:{roleId:e.name}}).then(function(e){for(var t=[],a=0;a<e.data.data.length;a++)t.push(e.data.data[a].rulesId);s.checkboxRules=t}).catch(function(e){s.$message(e.data.message)})},addRole:function(){var e=this;this.$axios.get(H+"/rules/findall").then(function(t){200==t.data.status&&(e.rulesOptions2=t.data.data,e.dialogFormVisible=!0)}).catch(function(t){e.$message(t.data.message)})},handleClose:function(){this.dialogFormVisible=!1,this.form={roleName:""},this.checkboxRules2=[]},submit_insertrole_close:function(){this.handleClose()},submit_insertrole:function(){var e=this;this.$axios.get(H+"/role/insert",{params:{roleName:this.role.roleName}}).then(function(t){if(200==t.data.status)for(var s=0;s<e.checkboxRules2.length;s++)e.$axios.get(H+"/rolerules/insert",{params:{roleRulesRoleId:t.data.data.roleId,roleRulesRulesId:e.checkboxRules2[s]}}).then(function(t){e.dialogFormVisible=!1,e.init()}).catch(function(e){})})},setrules:function(e){var t=this;console.log(this.checkboxRules),this.$axios.get(H+"/rolerules/del",{params:{roleRulesRoleId:e}}).then(function(s){if(200==s.data.status){for(var a=0;a<t.checkboxRules.length;a++)t.$axios.get(H+"/rolerules/insert",{params:{roleRulesRoleId:e,roleRulesRulesId:t.checkboxRules[a]}}).then(function(e){e.data.status}).catch(function(e){t.$message("保存异常")});t.$message("保存成功")}}).catch(function(e){t.$message("保存异常")})},delRole:function(){var e=this;this.$confirm("此操作将永久删除该角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.get(H+"/role/del",{params:{roleId:e.roleId}}).then(function(t){200==t.data.status?e.$axios.get(H+"/rolerules/del",{params:{roleRulesRoleId:e.roleId}}).then(function(t){e.init(),e.$message({type:"success",message:"删除成功!"})}).catch(function(t){e.$message("删除异常")}):e.$message(t.data.message)}).catch(function(t){e.$message(t.data.message)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}},q={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.url==e.title?s("div",{staticClass:"role"},[s("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.addRole()}}},[e._v("\n        添加角色\n    ")]),e._v(" "),s("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.delRole()}}},[e._v("\n        删除角色\n    ")]),e._v(" "),s("div",{staticClass:"f5"},[s("el-button",{attrs:{size:"medium"},on:{click:e.openFullScreen}},[e._v("\n            刷新\n        ")])],1),e._v(" "),s("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.rolelist,function(t,a){return s("el-tab-pane",{key:a,attrs:{label:t.ROLE_NAME,name:t.ROLE_ID}},[s("el-checkbox-group",{attrs:{min:1,max:e.rulesOptions.length},model:{value:e.checkboxRules,callback:function(t){e.checkboxRules=t},expression:"checkboxRules"}},e._l(e.rulesOptions,function(t){return s("el-checkbox",{key:t.RULES_ID,attrs:{label:t.RULES_ID}},[s("br"),e._v("\n                    "+e._s(t.RULES_NAME)+"\n                ")])}),1),e._v(" "),s("el-divider"),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(s){return e.setrules(t.ROLE_ID)}}},[e._v("保存")])],1)}),1),e._v(" "),s("el-dialog",{attrs:{"before-close":e.handleClose,title:"添加角色",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-form",{attrs:{model:e.role}},[s("el-form-item",{attrs:{label:"角色名称","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.role.roleName,callback:function(t){e.$set(e.role,"roleName",t)},expression:"role.roleName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"角色权限","label-width":e.formLabelWidth}},[s("el-checkbox-group",{attrs:{min:1,max:e.rulesOptions2.length},model:{value:e.checkboxRules2,callback:function(t){e.checkboxRules2=t},expression:"checkboxRules2"}},e._l(e.rulesOptions2,function(t){return s("el-checkbox",{key:t.RULES_ID,attrs:{label:t.RULES_ID}},[e._v("\n                        "+e._s(t.RULES_NAME)+"\n                    ")])}),1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){return e.submit_insertrole_close()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit_insertrole()}}},[e._v("确 定")])],1)],1)],1):e._e()},staticRenderFns:[]};var Y=s("VU/8")(j,q,!1,function(e){s("7bEs")},null,null).exports,G="http://106.13.207.98:8080/jurisdiction",J={name:"rules",props:{url:String},data:function(){return{title:"/rules",ruleslist:[],urllist:[],dialogFormVisible:!1,form1:{rulesName:"",rulesMenuId:"",rulesUrl:""},dialogFormVisible2:!1,form2:{rulesId:"",rulesName:"",rulesMenuId:"",rulesUrl:""},formLabelWidth:"120px",menulist:[],rules:{}}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.$axios.get(G+"/rules/menu/findall").then(function(t){200==t.data.status&&(e.ruleslist=t.data.data,console.log(e.ruleslist))}).catch(function(t){e.$message("异常")}),this.$axios.get(G+"/menu/findall").then(function(t){200==t.data.status&&(e.menulist=t.data.data)}).catch(function(t){e.$message(t.data.message)}),this.$axios.get(G+"/url/selectall").then(function(t){200==t.data.status&&(e.urllist=t.data.data,console.log(e.urllist))}).catch(function(e){console.log(e)})},insertrules_handleClose:function(){this.dialogFormVisible=!1,this.form1={rulesName:"",rulesMenuId:"",rulesUrl:""}},addrules:function(){this.dialogFormVisible=!0},submit_addrules:function(){var e=this;this.$axios.get(G+"/rules/add",{params:{rulesName:this.form1.rulesName,rulesMenuId:this.form1.rulesMenuId,rulesUrl:this.form1.rulesUrl}}).then(function(t){200==t.data.status&&(e.init(),e.insertrules_handleClose())}).catch(function(t){e.$message(t.data.message)})},submit_addrules_close:function(){this.insertrules_handleClose()},updaterules_handleClose:function(){this.dialogFormVisible2=!1,this.form2={rulesId:"",rulesName:"",rulesMenuId:"",rulesUrl:""}},updaterules:function(e){this.form2={rulesId:e.rulesId,rulesName:e.rulesName,rulesMenuId:e.rulesMenuId,rulesUrl:e.rulesUrl},this.dialogFormVisible2=!0},sunmit_updaterules:function(){var e=this;this.$axios.get(G+"/rules/update",{params:{rulesId:this.form2.rulesId,rulesName:this.form2.rulesName,rulesMenuId:this.form2.rulesMenuId,rulesUrl:this.form2.rulesUrl}}).then(function(t){200==t.data.status&&(e.init(),e.updaterules_handleClose())})},sunmit_updaterules_close:function(){this.updaterules_handleClose()},deleterules:function(e){var t=this;console.log(e.rulesId),this.$confirm("此操作将永久删除该权限, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.get(G+"/rules/delete",{params:{rulesId:e.rulesId}}).then(function(s){200==s.data.status&&t.$axios.get(G+"/role/rules/delete",{params:{rulesId:e.rulesId}}).then(function(e){t.init(),t.$message({type:"success",message:"删除成功!"})}).catch(function(e){t.$message({type:"error",message:"删除异常1!"})})}).catch(function(e){t.$message({type:"error",message:"删除异常2!"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}},K={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.url==e.title?s("div",{attrs:{id:"rules"}},[s("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.addrules()}}},[e._v("添加权限")]),e._v(" "),s("el-table",{key:e.index,staticStyle:{"margin-top":"10px",width:"100%",height:"869px"},attrs:{size:"medium",data:e.ruleslist,index:e.index}},[s("el-table-column",{attrs:{fixed:"left",type:"index",label:"序号",width:"75"}}),e._v(" "),s("el-table-column",{attrs:{fixed:"left",prop:"rulesName",label:"权限",width:"200"}}),e._v(" "),s("el-table-column",{attrs:{prop:"menu.menuName",label:"上级菜单",width:"250"}}),e._v(" "),s("el-table-column",{attrs:{prop:"rulesTime",label:"添加时间",width:"300"}}),e._v(" "),s("el-table-column",{attrs:{prop:"rulesUrl",label:"URL地址",width:"200"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(s){return e.updaterules(t.row)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(s){return e.deleterules(t.row)}}},[e._v("删除")])]}}],null,!1,2255744027)})],1),e._v(" "),s("el-dialog",{attrs:{"before-close":e.insertrules_handleClose,title:"添加权限",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-form",{attrs:{model:e.form1}},[s("el-form-item",{attrs:{label:"权限名称","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form1.rulesName,callback:function(t){e.$set(e.form1,"rulesName",t)},expression:"form1.rulesName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"上级菜单","label-width":e.formLabelWidth}},[s("el-select",{attrs:{placeholder:"请选择上级菜单"},model:{value:e.form1.rulesMenuId,callback:function(t){e.$set(e.form1,"rulesMenuId",t)},expression:"form1.rulesMenuId"}},e._l(e.menulist,function(e,t){return s("el-option",{key:t,attrs:{label:e.MENU_NAME,value:e.MENU_ID}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"URL地址","label-width":e.formLabelWidth}},[s("el-select",{attrs:{placeholder:"请选择URL地址"},model:{value:e.form1.rulesUrl,callback:function(t){e.$set(e.form1,"rulesUrl",t)},expression:"form1.rulesUrl"}},e._l(e.urllist,function(e,t){return s("el-option",{key:t,attrs:{label:e.urlName,value:e.urlName}})}),1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){return e.submit_addrules_close()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit_addrules()}}},[e._v("确 定")])],1)],1),e._v(" "),s("el-dialog",{attrs:{"before-close":e.updaterules_handleClose,title:"编辑权限",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[s("el-form",{attrs:{model:e.form2}},[s("el-form-item",{attrs:{label:"权限名称","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form2.rulesName,callback:function(t){e.$set(e.form2,"rulesName",t)},expression:"form2.rulesName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"上级菜单","label-width":e.formLabelWidth}},[s("el-select",{attrs:{placeholder:"请选择上级菜单"},model:{value:e.form2.rulesMenuId,callback:function(t){e.$set(e.form2,"rulesMenuId",t)},expression:"form2.rulesMenuId"}},e._l(e.menulist,function(e,t){return s("el-option",{key:t,attrs:{label:e.MENU_NAME,value:e.MENU_ID}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"URL地址","label-width":e.formLabelWidth}},[s("el-select",{attrs:{placeholder:"请选择URL地址"},model:{value:e.form2.rulesUrl,callback:function(t){e.$set(e.form2,"rulesUrl",t)},expression:"form2.rulesUrl"}},e._l(e.urllist,function(e,t){return s("el-option",{key:t,attrs:{label:e.urlName,value:e.urlName}})}),1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){return e.sunmit_updaterules_close()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sunmit_updaterules()}}},[e._v("确 定")])],1)],1)],1):e._e()},staticRenderFns:[]};var Q=s("VU/8")(J,K,!1,function(e){s("gWmK")},null,null).exports,X={name:"setting",components:{about:N,intro:U,personal:F,update:A,personnel:P,role:Y,rules:Q},data:function(){return{list:[]}},props:{title:String},beforeCreate:function(){},mounted:function(){},methods:{init:function(){}}},Z={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"setting"}},[s("div",{staticClass:"setting-table"},[s("el-card",{staticClass:"box-card"},[""==e.title?s("div",[s("h1",[e._v("欢迎来到蓝桥权限管理系统！")])]):e._e(),e._v(" "),s("div",[s("about",{attrs:{url:e.title}}),e._v(" "),s("intro",{attrs:{url:e.title}}),e._v(" "),s("personal",{attrs:{url:e.title}}),e._v(" "),s("update",{attrs:{url:e.title}}),e._v(" "),s("personnel",{attrs:{url:e.title}}),e._v(" "),s("role",{attrs:{url:e.title}}),e._v(" "),s("rules",{attrs:{url:e.title}})],1)])],1)])},staticRenderFns:[]};var ee=s("VU/8")(X,Z,!1,function(e){s("MwIN")},null,null).exports,te={name:"Index",components:{caidan:I,pagehead:w,setting:ee},data:function(){return{rulesId:""}},methods:{childByValue:function(e){this.rulesId=e}}},se={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"index"}},[t("caidan",{on:{childByValue:this.childByValue}}),this._v(" "),t("pagehead"),this._v(" "),t("setting",{attrs:{title:this.rulesId}})],1)},staticRenderFns:[]};var ae=s("VU/8")(te,se,!1,function(e){s("vbYk")},null,null).exports;a.default.use(v.a);var ne=new v.a({routes:[{path:"/",name:"home",component:h},{path:"/index",name:"index",component:ae},{path:"/about",name:"about",component:N},{path:"/caidan",name:"caidan",component:I},{path:"/intro",name:"intro",component:U},{path:"/pagehead",name:"pagehead",component:w},{path:"/personal",name:"personal",component:F},{path:"/personnel",name:"personnel",component:P},{path:"/role",name:"role",component:Y},{path:"/rules",name:"rules",component:Q},{path:"/setting",name:"setting",component:ee},{path:"/update",name:"update",component:A}]}),ie=s("Muz9"),le=s.n(ie),re=s("CtzY"),oe=s.n(re);a.default.use(n.a);var ue=new n.a.Store({state:{loginUserId:"",loginmenu:[]},mutations:{user:function(e,t){e.loginUserId=t},menu:function(e,t){e.loginmenu=t}},actions:{login:function(e,t){e.commit("user",t)},usermenu:function(e,t){e.commit("menu",t)}}});a.default.use(n.a),a.default.use(l.a,{size:"small",zIndex:3e3}),a.default.prototype.$axios=le.a,a.default.prototype.$qs=oe.a,a.default.config.productionTip=!1,new a.default({el:"#app",router:ne,store:ue,components:{App:b},template:"<App/>"})},"U++2":function(e,t){},"Y0m+":function(e,t){},gWmK:function(e,t){},tvR6:function(e,t){},vbYk:function(e,t){},"x+cm":function(e,t){},zIFW:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.d6e37bc8b844c8e413b6.js.map